//開機顯示"公"字 輸入數字後會顯示在8x8點矩陣上
byte ScanPin[8]={29,26,28,35,32,33,25,23};
byte DataPin[8]={37,27,36,31,22,34,24,30};
byte num;
boolean Data[8][8]=
{ {1,1,1,1,0,1,1,1}, 
  {1,1,0,1,1,0,1,1}, 
  {1,0,1,1,1,1,0,1},
  {0,1,1,0,1,1,1,0},
  {1,1,0,1,1,1,1,1},
  {1,0,1,1,1,0,1,1},
  {1,1,0,0,0,1,0,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean zero[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,0,0,1,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,1,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean one[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,1,0,1,1,1}, 
  {1,1,1,0,0,1,1,1},
  {1,1,0,1,0,1,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,0,0,0,0,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean two[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,0,0,1,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,1,0,1,1,1,1},
  {1,1,0,0,0,0,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean three[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,0,0,1,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,1,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean four[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,1,0,1,1,1}, 
  {1,1,1,0,0,1,1,1},
  {1,1,0,1,0,1,1,1},
  {1,0,0,0,0,0,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,1,1,0,1,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean five[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,0,0,0,0,1,1}, 
  {1,1,0,1,1,1,1,1},
  {1,1,0,0,0,1,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,1,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean six[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,0,0,0,0,1,1}, 
  {1,1,0,1,1,1,1,1},
  {1,1,0,0,0,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,0,0,0,0,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean seven[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,0,0,0,0,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean eight[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,0,0,1,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,1,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,1,1,1},
  {1,1,1,1,1,1,1,1}, 
};
boolean nine[8][8]=
{ {1,1,1,1,1,1,1,1}, 
  {1,1,1,0,0,1,1,1}, 
  {1,1,0,1,1,0,1,1},
  {1,1,0,1,1,0,1,1},
  {1,1,1,0,0,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,1,0,1,1},
  {1,1,1,1,1,1,1,1}, 
};
void setup()
{
  for (int i=0 ;i<8;i++)
  {
    pinMode(ScanPin[i], OUTPUT);
    pinMode(DataPin[i], OUTPUT);
    Serial.begin(9600);
  }
}
void loop()
{
 for (int i=0; i <8; i++)
  {    
    digitalWrite(ScanPin[i],HIGH);
    for (int j=0; j <8; j++)
    {
      
      if(Data[i][7-j]==0)
      {
        digitalWrite(DataPin[j],LOW);          
      }
      else
      {
        digitalWrite(DataPin[j],HIGH);
      }
     }  
     delay(1);
     for(int j=0;j<8;j++)
     {
      digitalWrite(DataPin[j],HIGH);
      }
     digitalWrite(ScanPin[i] ,LOW);
 }
   if(Serial.available())
 {
   num=Serial.parseInt();
   for(int i=0;i<8;i++)
   {
     for(int j=0;j<8;j++)
     {
       switch(num)
       {
         case 0:Data[i][j]=zero[i][j];break;
         case 1:Data[i][j]=one[i][j];break;
         case 2:Data[i][j]=two[i][j];break;
         case 3:Data[i][j]=three[i][j];break;
         case 4:Data[i][j]=four[i][j];break;
         case 5:Data[i][j]=five[i][j];break;
         case 6:Data[i][j]=six[i][j];break;
         case 7:Data[i][j]=seven[i][j];break;
         case 8:Data[i][j]=eight[i][j];break;
         case 9:Data[i][j]=nine[i][j];break;
       }    
     }
   }
  }
}
